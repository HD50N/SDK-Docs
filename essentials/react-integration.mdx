---
title: 'React Integration'
description: 'Seamless React integration with hooks and context providers for easy implementation'
---

# React Integration

HumanBehavior SDK provides seamless React integration with hooks and context providers, making it easy to implement session recording in React applications.

## Quick Start

### Basic Setup

Wrap your app with the `HumanBehaviorProvider`:

```javascript
import { HumanBehaviorProvider } from 'humanbehavior-js/react';

function App() {
  return (
    <HumanBehaviorProvider apiKey="your-api-key-here">
      <YourApp />
    </HumanBehaviorProvider>
  );
}
```

### Using the Hook

Access the tracker in your components:

```javascript
import { useHumanBehavior } from 'humanbehavior-js/react';

function MyComponent() {
  const tracker = useHumanBehavior();
  
  useEffect(() => {
    // Start recording when component mounts
    tracker.start();
  }, [tracker]);
  
  const handleButtonClick = () => {
    // Track custom events
    tracker.customEvent('button_click', {
      buttonId: 'my-button'
    });
  };
  
  return (
    <button onClick={handleButtonClick}>
      Click me
    </button>
  );
}
```

## Provider Configuration

### Basic Provider

```javascript
import { HumanBehaviorProvider } from 'humanbehavior-js/react';

function App() {
  return (
    <HumanBehaviorProvider 
      apiKey="your-api-key-here"
    >
      <YourApp />
    </HumanBehaviorProvider>
  );
}
```

### Advanced Provider

```javascript
import { HumanBehaviorProvider } from 'humanbehavior-js/react';

function App() {
  return (
    <HumanBehaviorProvider 
      apiKey={process.env.NEXT_PUBLIC_HUMANBEHAVIOR_API_KEY}
    >
      <YourApp />
    </HumanBehaviorProvider>
  );
}
```

### Custom Client

Use an existing tracker instance:

```javascript
import { HumanBehaviorProvider } from 'humanbehavior-js/react';
import { HumanBehaviorTracker } from 'humanbehavior-js';

// Create tracker instance
const tracker = new HumanBehaviorTracker('your-api-key');

function App() {
  return (
    <HumanBehaviorProvider client={tracker}>
      <YourApp />
    </HumanBehaviorProvider>
  );
}
```

## Hook Usage

### Basic Hook

```javascript
import { useHumanBehavior } from 'humanbehavior-js/react';

function MyComponent() {
  const tracker = useHumanBehavior();
  
  // Use tracker methods
  const handleStart = () => tracker.start();
  const handleStop = () => tracker.stop();
  
  return (
    <div>
      <button onClick={handleStart}>Start Recording</button>
      <button onClick={handleStop}>Stop Recording</button>
    </div>
  );
}
```

### User Identification

```javascript
import { useHumanBehavior } from 'humanbehavior-js/react';

function UserProfile({ user }) {
  const tracker = useHumanBehavior();
  
  useEffect(() => {
    // Identify user when component mounts
    if (user) {
      tracker.addUserInfo({
        email: user.email,
        name: user.name,
        userId: user.id
      });
    }
  }, [user, tracker]);
  
  return <div>Welcome, {user.name}!</div>;
}
```

### Custom Events

```javascript
import { useHumanBehavior } from 'humanbehavior-js/react';

function ProductCard({ product }) {
  const tracker = useHumanBehavior();
  
  const handleView = () => {
    tracker.customEvent('product_view', {
      productId: product.id,
      productName: product.name,
      category: product.category
    });
  };
  
  const handleAddToCart = () => {
    tracker.customEvent('add_to_cart', {
      productId: product.id,
      price: product.price
    });
  };
  
  return (
    <div onMouseEnter={handleView}>
      <h3>{product.name}</h3>
      <p>${product.price}</p>
      <button onClick={handleAddToCart}>Add to Cart</button>
    </div>
  );
}
```

### Data Redaction

```javascript
import { useHumanBehavior } from 'humanbehavior-js/react';

function PaymentForm() {
  const tracker = useHumanBehavior();
  
  useEffect(() => {
    // Set redaction when component mounts
    tracker.setRedactedFields([
      'input[type="password"]',
      'input[type="email"]',
      '.payment-form input'
    ]);
  }, [tracker]);
  
  return (
    <form className="payment-form">
      <input type="email" placeholder="Email" />
      <input type="password" placeholder="Password" />
      <input type="text" placeholder="Card Number" />
      <input type="text" placeholder="CVV" />
    </form>
  );
}
```

## Next.js Integration

### App Router (Next.js 13+)

```javascript
// app/layout.js
import { HumanBehaviorProvider } from 'humanbehavior-js/react';

export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body>
        <HumanBehaviorProvider apiKey={process.env.NEXT_PUBLIC_HUMANBEHAVIOR_API_KEY}>
          {children}
        </HumanBehaviorProvider>
      </body>
    </html>
  );
}
```

### Pages Router (Next.js 12 and earlier)

```javascript
// pages/_app.js
import { HumanBehaviorProvider } from 'humanbehavior-js/react';

export default function App({ Component, pageProps }) {
  return (
    <HumanBehaviorProvider apiKey={process.env.NEXT_PUBLIC_HUMANBEHAVIOR_API_KEY}>
      <Component {...pageProps} />
    </HumanBehaviorProvider>
  );
}
```

### Environment Variables

Create a `.env.local` file:

```bash
NEXT_PUBLIC_HUMANBEHAVIOR_API_KEY=your-api-key-here
```

## Advanced Usage

### Conditional Tracking

```javascript
import { useHumanBehavior } from 'humanbehavior-js/react';

function ConditionalTracker({ shouldTrack }) {
  const tracker = useHumanBehavior();
  
  useEffect(() => {
    if (shouldTrack) {
      tracker.start();
    } else {
      tracker.stop();
    }
  }, [shouldTrack, tracker]);
  
  return null; // This component doesn't render anything
}
```

### Error Boundaries

```javascript
import { useHumanBehavior } from 'humanbehavior-js/react';

function ErrorBoundary({ children }) {
  const tracker = useHumanBehavior();
  
  useEffect(() => {
    const handleError = (error) => {
      tracker.customEvent('error_occurred', {
        error: error.message,
        stack: error.stack
      });
    };
    
    window.addEventListener('error', handleError);
    return () => window.removeEventListener('error', handleError);
  }, [tracker]);
  
  return children;
}
```

### Performance Monitoring

```javascript
import { useHumanBehavior } from 'humanbehavior-js/react';

function PerformanceMonitor() {
  const tracker = useHumanBehavior();
  
  useEffect(() => {
    const observer = new PerformanceObserver((list) => {
      list.getEntries().forEach((entry) => {
        tracker.customEvent('performance_metric', {
          name: entry.name,
          duration: entry.duration,
          type: entry.entryType
        });
      });
    });
    
    observer.observe({ entryTypes: ['navigation', 'resource'] });
    
    return () => observer.disconnect();
  }, [tracker]);
  
  return null;
}
```

## SSR Compatibility

### Server-Side Rendering

The SDK is fully compatible with SSR:

```javascript
// The provider handles SSR automatically
function App() {
  return (
    <HumanBehaviorProvider apiKey="your-api-key">
      <YourApp />
    </HumanBehaviorProvider>
  );
}
```

### Hydration

The SDK handles hydration gracefully:

```javascript
// No special handling needed for hydration
function MyComponent() {
  const tracker = useHumanBehavior();
  
  // This will work correctly after hydration
  useEffect(() => {
    tracker.start();
  }, [tracker]);
  
  return <div>Your content</div>;
}
```

## Troubleshooting

### Common Issues

**Provider not found**: Make sure you've wrapped your app with `HumanBehaviorProvider`.

**Hook called outside provider**: Ensure the hook is used within a component tree that has the provider.

**SSR errors**: The SDK automatically handles SSR - no special configuration needed.

### Debug Mode

```javascript
import { useHumanBehavior } from 'humanbehavior-js/react';

function DebugComponent() {
  const tracker = useHumanBehavior();
  
  const handleDebug = () => {
    tracker.viewLogs();
  };
  
  return (
    <button onClick={handleDebug}>
      View Logs
    </button>
  );
}
```

<Note>
  **Version 0.0.8**: Enhanced React integration with improved SSR support and better error handling during initialization.
</Note> 